# Reglas del Proyecto SGI (Sistema de Gestión Integral)

## General
- Todo el código, variables, funciones, comentarios y commits deben estar en **Español**.
- Mantener un estilo limpio, modular y documentado.

## Frontend (Next.js / React)
- **Framework:** Next.js (App Router).
- **Llamadas a la API:** Utilizar la instancia configurada de `axios` (ubicada en `src/lib/axios.ts`).
- **Manejo de Estado y Caché:** Utilizar **React Query** (`@tanstack/react-query`) a través de Custom Hooks (ej. `useContactos.ts`, `useBaseComercial.ts`). No usar `useEffect` para fetch de datos a menos que sea estrictamente necesario.
- **Estilos:** Utilizar **Tailwind CSS**.
- **Iconos:** Utilizar `lucide-react`.
- **Estructura de Componentes:** 
  - Separar lógica de presentación.
  - Usar interfaces claras para los tipos TypeScript en la carpeta `src/types/`.

## Backend (FastAPI / Python)
- **Validación de Datos:** Todos los endpoints deben estar fuertemente tipados y validados usando **Pydantic** (`schemas/`).
- **Modelos de Base de Datos:** Usar **SQLAlchemy** (declarative base) ubicados en `app/models/`.
- **Manejo de Errores:** 
  - Para errores de negocio o validaciones HTTP, lanzar **`HTTPException`** estándar de FastAPI (ej. `raise HTTPException(status_code=400, detail="El cliente no existe")`).
  - No usar middlewares para capturar excepciones de negocio estándar, usar bloques `try/except` en el Service layer y dejar que el router lance el `HTTPException`.
- **Arquitectura:**
  - `api/v1/`: Controladores/Routers (Solo inyectan dependencias y parsean entrada/salida).
  - `services/`: Lógica de negocio pesada (Consultas a base de datos, reglas de negocio).
  - `schemas/`: Pydantic models (Validación).
  - `models/`: SQLAlchemy models (Tablas).
